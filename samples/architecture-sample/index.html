
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="An example of documentation that describes the architecture of a cloud platform.">
      
      
      
        <link rel="canonical" href="https://zainmhaq.github.io/zainhaq-portfolio/samples/architecture-sample/">
      
      
        <link rel="prev" href="../..">
      
      
        <link rel="next" href="../migration-guide-sample/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Cloud Platform Architecture Documentation Sample - Zain Haq – Technical Writing Portfolio</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="pink">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cloud-platform-architecture-writing-sample" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Zain Haq – Technical Writing Portfolio" class="md-header__button md-logo" aria-label="Zain Haq – Technical Writing Portfolio" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Zain Haq – Technical Writing Portfolio
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Cloud Platform Architecture Documentation Sample
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="pink"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Zain Haq – Technical Writing Portfolio" class="md-nav__button md-logo" aria-label="Zain Haq – Technical Writing Portfolio" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Zain Haq – Technical Writing Portfolio
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Samples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Samples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Architecture Sample
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Architecture Sample
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#key-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Key concepts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#high-level-overview" class="md-nav__link">
    <span class="md-ellipsis">
      High-level overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="High-level overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#haic-fully-managed-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      HAIC - Fully managed architecture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#haic-components" class="md-nav__link">
    <span class="md-ellipsis">
      HAIC components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HAIC components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#keycloak" class="md-nav__link">
    <span class="md-ellipsis">
      Keycloak
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-store" class="md-nav__link">
    <span class="md-ellipsis">
      App Store
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wave-apps" class="md-nav__link">
    <span class="md-ellipsis">
      Wave apps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Wave apps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#app-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      App dependencies
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enterprise-steam-my-ai-engines" class="md-nav__link">
    <span class="md-ellipsis">
      Enterprise Steam (My AI Engines)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#h2o-mlops-my-models" class="md-nav__link">
    <span class="md-ellipsis">
      H2O MLOps (My Models)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#h2o-drive" class="md-nav__link">
    <span class="md-ellipsis">
      H2O Drive
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-shared-user-identity-in-haic" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding shared user identity in HAIC
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migration-guide-sample/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migration Guide Sample
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mlops-py-client-sample/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MLOps Python Client Sample
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../release-blog-sample/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release Blog Sample
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#key-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Key concepts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#high-level-overview" class="md-nav__link">
    <span class="md-ellipsis">
      High-level overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="High-level overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#haic-fully-managed-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      HAIC - Fully managed architecture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#haic-components" class="md-nav__link">
    <span class="md-ellipsis">
      HAIC components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HAIC components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#keycloak" class="md-nav__link">
    <span class="md-ellipsis">
      Keycloak
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-store" class="md-nav__link">
    <span class="md-ellipsis">
      App Store
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wave-apps" class="md-nav__link">
    <span class="md-ellipsis">
      Wave apps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Wave apps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#app-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      App dependencies
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enterprise-steam-my-ai-engines" class="md-nav__link">
    <span class="md-ellipsis">
      Enterprise Steam (My AI Engines)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#h2o-mlops-my-models" class="md-nav__link">
    <span class="md-ellipsis">
      H2O MLOps (My Models)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#h2o-drive" class="md-nav__link">
    <span class="md-ellipsis">
      H2O Drive
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-shared-user-identity-in-haic" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding shared user identity in HAIC
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="cloud-platform-architecture-writing-sample">Cloud Platform Architecture Writing Sample</h1>
<p>The following sections describe the architectural concepts behind H2O AI Cloud (HAIC).</p>
<h2 id="key-concepts">Key concepts</h2>
<p>Many types of personas are involved in using AI for business problems. The goal of HAIC is to provide a single platform for these different users to accomplish common use case tasks through the full ML pipeline such as exploring data, building and understanding models, using models in product, and providing model predictions in end user applications.</p>
<ul>
<li>
<p><strong>Runtime environment</strong>: HAIC depends on Kubernetes (K8s). K8s is essentially a container orchestrator that organizes containers and ensures that they are able to work together as a cohesive unit.</p>
<ul>
<li>K8s provides a compatibility layer so that HAIC can be run across clouds or on-premise.</li>
<li>K8s provides a solid unifying baseline for the runtime.</li>
<li>K8s ultimately lets us structure and build HAIC more efficiently.</li>
</ul>
</li>
<li>
<p><strong>Authentication</strong>: HAIC uses the OpenID Connect (OIDC) standard for authentication and relies on Keycloak as its reference OIDC implementation.</p>
<ul>
<li>Using OIDC lets all services in the cloud use the same identity.</li>
<li>If a behavior is initiated in one component of HAIC, an API call can subsequently be forwarded to another component while using the same identity.</li>
</ul>
</li>
<li>
<p><strong>Focus on APIs</strong>: Individual components in HAIC are loosely coupled and leverage well-defined APIs.</p>
</li>
<li>
<p><strong>Leverages managed Cloud services</strong> to achieve the following:</p>
<ul>
<li>Maximum deployment flexibility.</li>
<li>Retains compatibility with on-premises infrastructure or custom deployments.</li>
</ul>
</li>
</ul>
<h2 id="high-level-overview">High-level overview</h2>
<p>HAIC is deployed with Kubernetes, which lets customers run the platform in any cloud or on-premises infrastructure. All of the utility provided by HAIC is contained within a Kubernetes cluster.</p>
<p>Three distinct workloads are present within the K8s cluster:</p>
<ul>
<li>
<p><strong>AI Engine management</strong> (My AI Engines): Managing all running machine learning engines such as H2O-3 and Driverless AI.</p>
</li>
<li>
<p><strong>Model management</strong> (My Models): Managing all existing model deployments.</p>
</li>
<li>
<p><strong>App Store / App management</strong>: Managing all existing Wave app deployments.</p>
</li>
</ul>
<p>In addition to these workloads, several baseline interfaces and dependencies are included as part of the high-level overview:</p>
<ul>
<li><strong>Network ingress</strong>: Some flexibility but also standardization</li>
<li><strong>Identity provider</strong>: Keycloak</li>
<li><strong>Object storage</strong>: Amazon S3, Azure Blob Storage, or Google Cloud Storage</li>
<li><strong>SQL database</strong>: PostgreSQL is used across the board</li>
</ul>
<h3 id="haic-fully-managed-architecture">HAIC - Fully managed architecture</h3>
<p>HAIC - Fully managed features a single tenant per account design, meaning that every customer is provided with a dedicated account that is completely isolated from the accounts of other customers. All client communications are encrypted using TLS 1.2. By default, successful authentication is required for all connections.</p>
<h2 id="haic-components">HAIC components</h2>
<p>The following sections describe some of the individual components that make up HAIC. Each of these components are deployed into their own Kubernetes namespace, which are all set up in a similar manner (for example, each component has its own network ingress). Keep in mind that while there are many architectural similarities between components, each component also has pieces that are unique to their particular architectural setup. Over time, the goal is to eventually make the architectural setup of each component more uniform.</p>
<h3 id="keycloak">Keycloak</h3>
<p>Keycloak is an open source identity and access management solution that provides a single sign-on solution for web apps and RESTful web services. HAIC uses Keycloak as an identity broker to authenticate with external OpenID Connect or SAML identity providers. This means that if a customer already has an identity provider, we can use Keycloak as a proxy instead of connecting directly to their identity provider. Keycloak ultimately provides a single identity interface for all H2O services and lets you easily link to other authentication providers.</p>
<h3 id="app-store">App Store</h3>
<p>App Store is a turnkey platform that streamlines the process of developing, deploying, and using analytical ML software applications based on the H2O Wave development framework. The App Store server communicates with the Kubernetes API to schedule Wave apps, and it also authorizes and proxies all the traffic that comes through the Wave apps.</p>
<p>From an architectural perspective, App Store can be described as a replicated server that handles the following tasks:</p>
<ul>
<li>Handles the Wave app repository (that is, the list of available apps) and displays pictures and metadata related to apps.</li>
<li>Instantiates those apps as running workloads on Kubernetes using scheduling. Uses Helm as an abstraction layer to communicate with the Kubernetes API.</li>
<li>After apps are scheduled, they can be described as small containers that run Waved (the Wave server), the application Python code, and HAIC Launcher (a booster binary that ensures that the containers starts and operates correctly).</li>
<li>Apps are accessed through the router component of the App Store server.</li>
<li>The App Store server uses the Kubernetes API to store information about running apps. This means that HAIC is unable to distinguish between different methods used for manipulating apps (for example, if an app is started with Helm from the command line), which makes HAIC difficult to break even when different methods for manipulating apps are used. This applies to tasks like starting, updating, and deleting apps.</li>
<li>The metadata database contains app metadata including locations of relevant icons, how should the app be started, and who owns the app.</li>
<li>Metadata database (PostgreSQL):<ul>
<li>Stores app metadata including tags and pointers to Blob Storage.</li>
<li>Doesn't store instance metadata.</li>
<li>Stores browser session data.</li>
</ul>
</li>
<li>It uses Blob Storage (S3/Azure Blob Storage/GCS) or Persistent Volume to store the app bundles (that is, <code>.wave</code> archives and extracted static app assets including icons and screenshots). Since Blob Storage allows for higher scalability and reliability, it is preferred over Persistent Volume whenever possible.</li>
<li>Router:<ul>
<li>Performs instance access authorization.</li>
<li>Routes requests to the relevant instance K8s service.</li>
<li>Consults scheduler to find the relevant K8s service.</li>
</ul>
</li>
<li>Scheduler:<ul>
<li>Manages app instances through Helm client.</li>
<li>All instance metadata is stored in K8s API through Helm.</li>
</ul>
</li>
<li>Wave app instance:<ul>
<li>1-pod deployment with <code>clusterIP</code> service and optional PVC(s). The pod runs a single generic container with HAIC Launcher as the main process.</li>
<li>HAIC Launcher takes care of downloading the app code, installing its dependencies, starting Waved, and starting the app.</li>
</ul>
</li>
</ul>
<h3 id="wave-apps">Wave apps</h3>
<p>H2O Wave is a software stack for building low-latency real-time web applications and dashboards entirely in Python. Apps developed by H2O.ai can be accessed in the App Store.</p>
<h4 id="app-dependencies">App dependencies</h4>
<p>With the exception of core components like Enterprise Steam, Driverless AI, and MLOps, app dependencies are considered as being external to HAIC. For example, app dependencies can be contained in ClickHouse databases. Developers have the option of injecting pointers to external dependencies with secrets that have been registered with the platform.</p>
<h3 id="enterprise-steam-my-ai-engines">Enterprise Steam (My AI Engines)</h3>
<p>Enterprise Steam (My AI Engines) is a service for securely managing and connecting to H2O-3 and Driverless AI on Hadoop and Kubernetes. Enterprise Steam offers security, resource control, and resource monitoring out of the box in a multi-tenant architecture so that organizations can focus on the core of their data science practice. Enterprise Steam enables streamlined adoption of H2O.ai products in a secure manner that complies with company policies.</p>
<p>The Enterprise Steam server communicates with the Kubernetes API to schedule tasks relating to the AI engines, and it also authorizes and proxies all the traffic that comes through those engines.</p>
<p>The following describes Enterprise Steam from an architectural perspective within the context of HAIC:</p>
<ul>
<li>The Enterprise Steam server communicates with the Kubernetes API to schedule Driverless AI and H2O-3 instances.</li>
<li>Implements reverse proxy (via Traefik) to forward/route traffic to DAI and H2O-3.</li>
<li>Unlike App Store, Enterprise Steam uses Persistent Volume with SQLite to store its metadata, including information about DAI/H2O-3 instances.</li>
<li>The Enterprise Steam server schedules Driverless AI and H2O-3 instances with direct K8s API calls.</li>
<li>DAI/H2O-3 instances can be provisioned by Wave apps and end users.</li>
</ul>
<h3 id="h2o-mlops-my-models">H2O MLOps (My Models)</h3>
<p>H2O MLOps lets you export your Driverless AI experiments and import your Driverless AI and H2O-3 MOJO models into a shared MLOps project for collaboration, management, deployment, and monitoring. MLOps also supports third-party Python models with the Bring Your Own Model (BYOM) feature.</p>
<p>The following describes H2O MLOps from an architectural perspective within the context of HAIC:</p>
<ul>
<li>Unlike App Store and Enterprise Steam, H2O MLOps is implemented using microservices architecture.</li>
<li>H2O MLOps uses gRPC and gRPC-Gateway to expose its APIs to clients.</li>
<li>H2O MLOps storage uses persistent disk to store its artifacts' blobs while using PostgreSQL for the metadata.</li>
<li>H2O MLOps uses Grafana and InfluxDB to implement monitoring.</li>
<li>H2O MLOps can deploy scoring/model endpoints in either the same K8s cluster as the above components or a separate one. This is different from Enterprise Steam and App Store, which can only deploy DAI/apps within the same K8s cluster.</li>
<li>H2O MLOps uses off-the-shelf reverse-proxy (ambassador) to proxy traffic to scoring/model deployments.</li>
<li>Driverless AI / H2O-3 models:<ul>
<li>DAI publishes models to the H2O storage.</li>
<li>DAI / H2O-3 models get deployed as REST services.</li>
<li>Wave apps can use models deployed by H2O MLOps.</li>
<li>Deployed models are invoked by external users/systems. Usage statistics are stored.</li>
</ul>
</li>
</ul>
<h3 id="h2o-drive">H2O Drive</h3>
<p>H2O Drive is an object store—similar to S3—built for H2O AI Managed Cloud. The goal of this API is to provide easy access to blob/object storage for Wave apps and other clients. A key use case is to store data to be used across different app instances and app versions. This allows app users to have access to their past work even if they are in a new instance of the app, or if the app is updated to a new version. Another key use case is exchanging large temporal data files between apps/systems, e.g., app1 -&gt; DAI -&gt; h2o-3 -&gt; app2 (this is where the name comes from).</p>
<p>H2O Drive can be used to store objects like personal files, app inputs, non-structured datasets, app reports, and backups. It has three basic roles:</p>
<ul>
<li>End user authentication that is OIDC-based so that it works seamlessly with the rest of the platform.</li>
<li>A single stable interface into blob storage, regardless of the deployment platform being used (for example, AWS or Azure). This means that individual HAIC components don't have to support every deployment platform.</li>
<li>When H2O Drive is deployed, each user is given a "home" bucket that they can browse and add content to with the Ocean app. All other apps and services in the cloud can also use this bucket to store and read file objects.</li>
</ul>
<h2 id="understanding-shared-user-identity-in-haic">Understanding shared user identity in HAIC</h2>
<p>This section describes how identity is shared across all the components that make up HAIC.</p>
<ul>
<li>OIDC is the protocol used for user authentication. Additionally, aspects of the user's OIDC identity are also used for authorization, e.g., group membership.</li>
<li>A user's identity (OIDC session / token) flows through all the components that make up HAIC. For example, your identity can flow from the App Store server to the Waved server, which then forwards your identity to the app Python code.</li>
</ul>
<p>The following bullet points are the result of HAIC's standardisation on OIDC:</p>
<ul>
<li>Driverless AI or H2O-3 runtimes spawned by users are available for the Apps run by that user.</li>
<li>Models created by Apps are available in H2O MLOps and Driverless AI.</li>
<li>User identity can be used to reach out to external resources like data lakes, including corresponding authorization. However, because Keycloak is used as a proxy, communicating with external resources requires additional steps (identity tokens cannot be used directly).</li>
<li>Driverless AI / H2O-3 runtimes / apps spawned by a user have access to the user's H2O Drive data.</li>
<li>Note that H2O Drive also fits into this paradigm for shared user identity.</li>
</ul>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["palette.toggle"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>